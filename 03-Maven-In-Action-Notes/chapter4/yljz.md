## 从仓库解析依赖的机制

- Maven依赖机制和Maven仓库如何关联在一起？

- Maven是根据怎样的规则从仓库解析并使用依赖构建的呢?

  

1. 当本地仓库没有依赖构件的时候，Maven会从远程仓库下载

2. 当依赖版本为快照版本的时候，Maven会自动找到最新的快照

   过程：

   1. 当依赖范围是system时，Maven直接从本地文件系统解析构件
   2. 尝试从本地仓库寻找构件，找到就解析
   3. 本地仓库无法找到构件，如果依赖的额版本是显式的发布版本的构建，则遍历所有远程仓库，发现后，下载并解析
   4. 如果依赖版本是RELEASE或者LATEST,则基于更新策略读取所有远程仓库的元数据：groupId/artifactId/maven-metadata.xml。将其与本地仓库的对应元数据合并后，计算出RELEASE或者LATEST真实值，并重复2,3步骤
   5. 如果依赖版本是SNAPSHOT，groupId/artifactId/**version**/maven-metadata.xml，将其与本地仓库的对应元数据合并后得到最新快照版本的值。然后基于这个值检查本地仓库，没有找到就去远程仓库。

   