# Docker 容器的数据卷

# 什么是数据卷(Data Volume)
- 数据卷是经过特殊设计的目录,可以绕过联合文件系统(UFS),为一个或者多个容器提供访问
- 数据卷设计的目的,在于数据的永久化,它完全独立与容器的生存周期,因此,Docker 不会再容器删除时删除其挂载的数据卷,也不会存在类似的垃圾收集机制,对容器引用的数据卷进行处理

数据卷的特点
- 数据卷在容器启动时初始化,如果容器使用的镜像在挂载点包含了数据,这些数据会拷贝到新初始化的数据卷中
- 数据卷可以在容器之间共享和重用
- 可以读数据卷里的内容直接进行修改
- 数据卷的变化不会影响到镜像的更新
- 卷会一直存在,即使挂载数据卷的容器已经被删除
- 


```
docker run -it -v ~/container_data:/data ubuntu /bin/bash
```

查看一个容器是否挂载数据卷

```
docker inspect + containerId

```
## 数据卷容器
数据卷容器时一个在运行时挂载了数据卷的容器,其他容器可以在启动时执行数据卷容器从而将挂载数据卷的相关信息获取到

```
docker run --volumes-from [CONTAINER NAME]
```

值得注意的是:
- 当你删除数据卷容器时,挂载的数据卷不会被删除
- 如果你使用 `rm -v [CONTAINER NAME]`强行删除容器和其数据卷,Docker 会检测这个数据卷是否有容器在引用,如果有的话不会删除