# 什么是对象引用

## 是什么

jdk1.2之前是

> 如果 reference 类型中的数据存储的数值代表的是另外一块内存的起始地址,就称这亏内存代表着一个引用

之后:

> 分为
>
> - 强引用
> - 软引用
> - 弱引用
> - 虚引用

#### 强引用

Object object = new Object 这类引用,只要强引用还存在,垃圾收集器就永远不会回收掉被引用的对象

#### 软引用

> 鸡肋.食之无味弃之可惜

描述一些还有用但是非必须的对象,

对于软引用的对象,在系统中将要发生内存溢出异常之前,将会把这些对象勒紧回收范围之中进行二次回收,如果还是没有足够的空间,会抛出内存溢出

#### 弱引用

> 用来描述非必须对象的,但是强度比软引用更弱一点

垃圾回收期工作时,无论内存是否足够,都会回收

#### 虚引用

一个对象是否有虚引用的存在,完全不会对其生存时间构成影响,也无法通过虚引用来取得一个对象的实例

为一个对象设置虚引用的目的就是能在这个对象被垃圾回收之前取到一个系统通知, jdk12 之后,提供了 PhantomReference



