# Jstack 堆栈追踪工具

jstack (Stack Trace for Java) 命令用于生成虚拟机当前时刻的线程快照,一般称为 threaddump或者 javacore 文件

## 什么是虚拟机线程快照

线程快照是当前虚拟机内每一条线程正在执行的方法堆栈的集合,生成线程快照的目的通常是定位线程出现长时间停顿的原因

- 线程死锁
- 线程死循环
- 请求外部资源导致长时间挂起等等

## 命令

```
jstack [option] vmid
```

## 参数

| 选项 | 作用                                        |
| ---- | ------------------------------------------- |
| -F   | 当正常输出请求不被相应时,强制输出线程堆栈   |
| -l   | 除堆栈外,显示关于锁的附加信息               |
| -m   | 如果调用到本地方法的话,可以显示 c/c++的堆栈 |

## 例子

