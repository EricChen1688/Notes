# Eureka 的设计理念

3 个核心问题

- 服务实例如何注册到服务中心
- 服务实例如何从服务中心剔除
- 服务实例信息一致性

## 服务实例如何注册到服务中心

本质上是服务启动的时候,调用 Eureka Server 的 REST API 的 register 方法,去注册这个应用的实例

## 服务实例如何从服务中心剔除

正常情况下,服务实例在关闭应用的时候,通过钩子方法或者其他生命周期回调去调用 Eureka Server 的 REST API 的 de-register 方法来删除自身服务实例的信息

服务实例挂掉的情况下: 使用心跳包来证明服务实例还是存活的,是健康的,是可以条用的; Eureka 采用的是心跳模式

## 服务实例信息一致性

服务注册以及发现中心不可能是单点的,势必是一个集群,那么服务实例注册信息如何在这个集群里保证一致呢?

- AP 优于 CP
- Peer to Peer 架构
- Zone 以及 Region 设计
- self preservation 设计

### AP 优于 CP

