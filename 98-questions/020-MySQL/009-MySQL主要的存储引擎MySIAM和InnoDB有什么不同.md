# [QA]MySQL主要的存储引擎MySIAM和InnoDB有什么不同

-  [存储引擎总览.md](../../13-persistence/01-MySQL/07-存储引擎/存储引擎总览.md) 

从 5 个方向解释

- [事务支持不同](#事务支持不同)
- [锁粒度不同](#锁粒度不同)
- [存储空间](#存储空间)
- [存储结构](@存储结构)
- [统计记录行数](#统计记录行数)

## 事务支持不同

| 特性                  | 描述                                            |
| --------------------- | ----------------------------------------------- |
| InnoDB 支持行锁 ,表锁 | 支持事务 , 采用MVCC 和 LBCC临键锁解决RR幻读问题 |
| MyISAM 支持表锁       | MyISAM 不支持事务                               |

## 锁粒度不同

| 特性                  | 描述                                                         |
| --------------------- | ------------------------------------------------------------ |
| InnoDB 支持行锁 ,表锁 | 行级别锁,具有提交,回滚,崩溃恢复能力,支持自动增长列,支持外键约束,并发能力强,MVCC和 LBCC |
| MyISAM 支持表锁       | 全表锁,拥有较高的执行速度,并发性能差,占用空间相对较小,比较适合 select 和 insert 为主的应用, MySIAM 不支持外键 |

## 存储空间

InnoDB 及支持缓存索引文件,有缓存数据文件 , 存储空间是MySIAM的2.5倍,处理效率相对低一些

MySIAM 只支持缓存索引文件 

## 存储结构

InnoDB 所有的表都保存在同一个文件里面, idb 为后缀的文件 ,采用聚集索引,数据和索引放在一起,辅助索引需要回表

MySIAM 数据文件的拓展名是 .MYD(my_data) , 索引文件的拓展名是 .MYI (my_index)

## 统计记录行数

> select count(*) from table 语句具体怎么执行

InnoDB : 没有保存表的总行数, 会遍历整个表,消耗大

MySIAM 保存有表的总行数, 会直接取出该值

## 全文索引

InnoDB 不支持全文索引 

MyISAM支持全文索引,查询效率上MyISAM高一点