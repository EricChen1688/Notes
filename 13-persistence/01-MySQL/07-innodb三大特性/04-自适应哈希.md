# 自适应哈希

InnoDB 存储引擎有一个机制,可以监控索引的搜索,如果 InnoDB 注意到查询可以通过建立哈希索引得到优化,那么就会自动完成这件事情, 

可以通过配置 innodb_adaptive_hash_index 参数来控制,默认情况下是开启的

> ```sql
> show global variables like '%innodb_adaptive_hash_index%';
> ```

![image-20200820195612299](../../../assets/image-20200820195612299.png)

MySQL 5.7 开始,自适应哈希索引搜索系统是分区的,每个索引都会绑定到一个特殊的分区上,而且各个分区都有自己的锁存器来保护

分区可以通过`innodb_adaptive_hash_index_paths` 参数来控制, 该参数的默认值为 8 个,最大可以设置为 512 个

- 通过设置分区值,可以减低争用,提高并发性



可以使用 show engine innodb status 命令所输出的 SEMAPHORES 部分来监控自适应哈希索引的使用以及其竞争情况,如果你看到许多线程正在等待在 btrOsea.c 中创建的 RW-latch , 则它可能被用于精致自适应哈希索引

```
 show engine innodb status
```



```sql
=====================================
2020-08-20 12:01:35 0x7f2b23fff700 INNODB MONITOR OUTPUT
=====================================
Per second averages calculated from the last 18 seconds
-----------------
BACKGROUND THREAD
-----------------
srv_master_thread loops: 2728753 srv_active, 0 srv_shutdown, 4613371 srv_idle
srv_master_thread log flush and writes: 7341859
----------
SEMAPHORES
----------
OS WAIT ARRAY INFO: reservation count 3839364
OS WAIT ARRAY INFO: signal count 3826150
RW-shared spins 0, rounds 7321756, OS waits 3523369
RW-excl spins 0, rounds 5917297, OS waits 41740
RW-sx spins 21227, rounds 348380, OS waits 5274
Spin rounds per wait: 7321756.00 RW-shared, 5917297.00 RW-excl, 16.41 RW-sx
------------------------
LATEST DETECTED DEADLOCK
------------------------
2020-07-03 10:23:23 0x7f2b1e55a700
*** (1) TRANSACTION:
TRANSACTION 57079239, ACTIVE 0 sec fetching rows
mysql tables in use 1, locked 1
LOCK WAIT 66 lock struct(s), heap size 8400, 3445 row lock(s), undo log entries 1
MySQL thread id 3050106, OS thread handle 139823198004992, query id 93059779 172.20.0.11 hzero Sending data
SELECT cashflow_his_id, cashflow_id, contract_his_id, contract_id, cf_item, cf_type, cf_direction, cf_status, times, calc_date, due_date, fin_income_date, due_amount, net_due_amount, vat_due_amount, principal, net_principal, vat_principal, interest, net_interest, vat_interest, principal_implicit_rate, net_principal_implicit, vat_principal_implicit, interest_implicit_rate, net_interest_implicit, vat_interest_implicit, outstanding_rental, outstanding_principal, outstanding_interest, interest_accrual_balance, accumulated_unpaid_interest, interest_period_days, beginning_of_lease_year, salestax, generated_source, generated_source_doc_id, generated_source_doc_line_id, calc_line_id, overdue_status, overdue_book_date, overdue_max_days, overdue_amount, overdue_principal, overdue_interest, overdue_remark, received_amount, received_principal, received_interest, write_off_flag, last_received_date, full_write_off_d
*** (1) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 51931 page no 93 n bits 120 index PRIMARY of table `hls_contract`.`hlct_contract_cashflow_h` trx id 57079239 lock_mode X waiting
Record lock, heap no 38 PHYSICAL RECORD: n_fields 97; compact format; info bits 32
 0: len 8; hex 8000000000001182; asc         ;;
 1: len 6; hex 00000366f5c5; asc    f  ;;
 2: len 7; hex 33000002cc0faa; asc 3      ;;
 3: SQL NULL;
 4: len 8; hex 8000000000000012; asc         ;;
 5: len 8; hex 8000000000000097; asc         ;;
 6: len 8; hex 8000000000000001; asc         ;;
 7: len 8; hex 8000000000000001; asc         ;;
 8: len 6; hex 494e464c4f57; asc INFLOW;;
 9: len 7; hex 52454c45415345; asc RELEASE;;
 10: len 8; hex 800000000000000a; asc         ;;
 11: len 3; hex 8fcaaa; asc    ;;
 12: len 3; hex 8fcaaa; asc    ;;
 13: SQL NULL;
 14: len 9; hex 800000000000025541; asc        UA;;
 15: len 9; hex 800000000000021059; asc         Y;;
 16: len 9; hex 80000000000000444c; asc        DL;;
 17: len 9; hex 800000000000024e62; asc        Nb;;
 18: len 9; hex 800000000000020a63; asc         c;;
 19: len 9; hex 800000000000004363; asc        Cc;;
 20: len 9; hex 800000000000000643; asc         C;;
 21: len 9; hex 80000000000000055a; asc         Z;;
 22: len 9; hex 80000000000000004d; asc         M;;
 23: SQL NULL;
 24: SQL NULL;
 25: SQL NULL;
 26: SQL NULL;
 27: SQL NULL;
 28: SQL NULL;
 29: len 9; hex 80000000000004ab1e; asc          ;;
 30: len 9; hex 80000000000004a43d; asc         =;;
 31: len 9; hex 800000000000000645; asc         E;;
 32: SQL NULL;
 33: SQL NULL;
 34: SQL NULL;
 35: SQL NULL;
 36: SQL NULL;
 37: len 13; hex 434f4e5f51554f544154494f4e; asc CON_QUOTATION;;
 38: len 8; hex 800000000000272e; asc       '.;;
 39: SQL NULL;
 40: SQL NULL;
 41: len 1; hex 4e; asc N;;
 42: SQL NULL;
 43: SQL NULL;
 44: SQL NULL;
 45: SQL NULL;
 46: SQL NULL;
 47: SQL NULL;
 48: SQL NULL;
 49: SQL NULL;
 50: SQL NULL;
 51: len 3; hex 4e4f54; asc NOT;;
 52: SQL NULL;
 53: SQL NULL;
 54: len 1; hex 4e; asc N;;
 55: len 3; hex 4e4f54; asc NOT;;
 56: SQL NULL;
 57: SQL NULL;
 58: SQL NULL;
 59: SQL NULL;
 60: SQL NULL;
 61: SQL NULL;
 62: SQL NULL;
 63: SQL NULL;
 64: SQL NULL;
 65: SQL NULL;
 66: SQL NULL;
 67: SQL NULL;
 68: SQL NULL;
 69: SQL NULL;
 70: SQL NULL;
 71: SQL NULL;
 72: SQL NULL;
 73: SQL NULL;
 74: SQL NULL;
 75: SQL NULL;
 76: SQL NULL;
 77: SQL NULL;
 78: SQL NULL;
 79: SQL NULL;
 80: SQL NULL;
 81: SQL NULL;
 82: SQL NULL;
 83: SQL NULL;
 84: SQL NULL;
 85: SQL NULL;
 86: SQL NULL;
 87: len 8; hex 8000000000000001; asc         ;;
 88: SQL NULL;
 89: SQL NULL;
 90: SQL NULL;
 91: len 5; hex 99a6c725d3; asc    % ;;
 92: len 8; hex 8000000000000001; asc         ;;
 93: len 8; hex 8000000000000001; asc         ;;
 94: len 5; hex 99a6c725d3; asc    % ;;
 95: len 8; hex 800000000000272e; asc       '.;;
 96: SQL NULL;

*** (2) TRANSACTION:
TRANSACTION 57079237, ACTIVE 0 sec starting index read
mysql tables in use 1, locked 1
6 lock struct(s), heap size 1136, 6 row lock(s), undo log entries 3
MySQL thread id 3050111, OS thread handle 139823169251072, query id 93059782 172.20.0.11 hzero updating
DELETE FROM hlct_contract_cashflow_h WHERE cashflow_his_id = 4481
*** (2) HOLDS THE LOCK(S):
RECORD LOCKS space id 51931 page no 93 n bits 120 index PRIMARY of table `hls_contract`.`hlct_contract_cashflow_h` trx id 57079237 lock_mode X locks rec but not gap
Record lock, heap no 38 PHYSICAL RECORD: n_fields 97; compact format; info bits 32
 0: len 8; hex 8000000000001182; asc         ;;
 1: len 6; hex 00000366f5c5; asc    f  ;;
 2: len 7; hex 33000002cc0faa; asc 3      ;;
 3: SQL NULL;
 4: len 8; hex 8000000000000012; asc         ;;
 5: len 8; hex 8000000000000097; asc         ;;
 6: len 8; hex 8000000000000001; asc         ;;
 7: len 8; hex 8000000000000001; asc         ;;
 8: len 6; hex 494e464c4f57; asc INFLOW;;
 9: len 7; hex 52454c45415345; asc RELEASE;;
 10: len 8; hex 800000000000000a; asc         ;;
 11: len 3; hex 8fcaaa; asc    ;;
 12: len 3; hex 8fcaaa; asc    ;;
 13: SQL NULL;
 14: len 9; hex 800000000000025541; asc        UA;;
 15: len 9; hex 800000000000021059; asc         Y;;
 16: len 9; hex 80000000000000444c; asc        DL;;
 17: len 9; hex 800000000000024e62; asc        Nb;;
 18: len 9; hex 800000000000020a63; asc         c;;
 19: len 9; hex 800000000000004363; asc        Cc;;
 20: len 9; hex 800000000000000643; asc         C;;
 21: len 9; hex 80000000000000055a; asc         Z;;
 22: len 9; hex 80000000000000004d; asc         M;;
 23: SQL NULL;
 24: SQL NULL;
 25: SQL NULL;
 26: SQL NULL;
 27: SQL NULL;
 28: SQL NULL;
 29: len 9; hex 80000000000004ab1e; asc          ;;
 30: len 9; hex 80000000000004a43d; asc         =;;
 31: len 9; hex 800000000000000645; asc         E;;
 32: SQL NULL;
 33: SQL NULL;
 34: SQL NULL;
 35: SQL NULL;
 36: SQL NULL;
 37: len 13; hex 434f4e5f51554f544154494f4e; asc CON_QUOTATION;;
 38: len 8; hex 800000000000272e; asc       '.;;
 39: SQL NULL;
 40: SQL NULL;
 41: len 1; hex 4e; asc N;;
 42: SQL NULL;
 43: SQL NULL;
 44: SQL NULL;
 45: SQL NULL;
 46: SQL NULL;
 47: SQL NULL;
 48: SQL NULL;
 49: SQL NULL;
 50: SQL NULL;
 51: len 3; hex 4e4f54; asc NOT;;
 52: SQL NULL;
 53: SQL NULL;
 54: len 1; hex 4e; asc N;;
 55: len 3; hex 4e4f54; asc NOT;;
 56: SQL NULL;
 57: SQL NULL;
 58: SQL NULL;
 59: SQL NULL;
 60: SQL NULL;
 61: SQL NULL;
 62: SQL NULL;
 63: SQL NULL;
 64: SQL NULL;
 65: SQL NULL;
 66: SQL NULL;
 67: SQL NULL;
 68: SQL NULL;
 69: SQL NULL;
 70: SQL NULL;
 71: SQL NULL;
 72: SQL NULL;
 73: SQL NULL;
 74: SQL NULL;
 75: SQL NULL;
 76: SQL NULL;
 77: SQL NULL;
 78: SQL NULL;
 79: SQL NULL;
 80: SQL NULL;
 81: SQL NULL;
 82: SQL NULL;
 83: SQL NULL;
 84: SQL NULL;
 85: SQL NULL;
 86: SQL NULL;
 87: len 8; hex 8000000000000001; asc         ;;
 88: SQL NULL;
 89: SQL NULL;
 90: SQL NULL;
 91: len 5; hex 99a6c725d3; asc    % ;;
 92: len 8; hex 8000000000000001; asc         ;;
 93: len 8; hex 8000000000000001; asc         ;;
 94: len 5; hex 99a6c725d3; asc    % ;;
 95: len 8; hex 800000000000272e; asc       '.;;
 96: SQL NULL;

Record lock, heap no 39 PHYSICAL RECORD: n_fields 97; compact format; info bits 32
 0: len 8; hex 8000000000001183; asc         ;;
 1: len 6; hex 00000366f5c5; asc    f  ;;
 2: len 7; hex 33000002cc0f74; asc 3     t;;
 3: SQL NULL;
 4: len 8; hex 8000000000000012; asc         ;;
 5: len 8; hex 8000000000000097; asc         ;;
 6: len 8; hex 8000000000000001; asc         ;;
 7: len 8; hex 8000000000000001; asc         ;;
 8: len 6; hex 494e464c4f57; asc INFLOW;;
 9: len 7; hex 52454c45415345; asc RELEASE;;
 10: len 8; hex 800000000000000b; asc         ;;
 11: len 3; hex 8fcaca; asc    ;;
 12: len 3; hex 8fcaca; asc    ;;
 13: SQL NULL;
 14: len 9; hex 800000000000025541; asc        UA;;
 15: len 9; hex 80000000000002105a; asc         Z;;
 16: len 9; hex 80000000000000444b; asc        DK;;
 17: len 9; hex 800000000000025113; asc        Q ;;
 18: len 9; hex 800000000000020c5f; asc         _;;
 19: len 9; hex 800000000000004418; asc        D ;;
 20: len 9; hex 80000000000000042e; asc         .;;
 21: len 9; hex 80000000000000035f; asc         _;;
 22: len 9; hex 800000000000000033; asc         3;;
 23: SQL NULL;
 24: SQL NULL;
 25: SQL NULL;
 26: SQL NULL;
 27: SQL NULL;
 28: SQL NULL;
 29: len 9; hex 800000000000025541; asc        UA;;
 30: len 9; hex 80000000000002532a; asc        S*;;
 31: len 9; hex 800000000000000217; asc          ;;
 32: SQL NULL;
 33: SQL NULL;
 34: SQL NULL;
 35: SQL NULL;
 36: SQL NULL;
 37: len 13; hex 434f4e5f51554f544154494f4e; asc CON_QUOTATION;;
 38: len 8; hex 800000000000272e; asc       '.;;
 39: SQL NULL;
 40: SQL NULL;
 41: len 1; hex 4e; asc N;;
 42: SQL NULL;
 43: SQL NULL;
 44: SQL NULL;
 45: SQL NULL;
 46: SQL NULL;
 47: SQL NULL;
 48: SQL NULL;
 49: SQL NULL;
 50: SQL NULL;
 51: len 3; hex 4e4f54; asc NOT;;
 52: SQL NULL;
 53: SQL NULL;
 54: len 1; hex 4e; asc N;;
 55: len 3; hex 4e4f54; asc NOT;;
 56: SQL NULL;
 57: SQL NULL;
 58: SQL NULL;
 59: SQL NULL;
 60: SQL NULL;
 61: SQL NULL;
 62: SQL NULL;
 63: SQL NULL;
 64: SQL NULL;
 65: SQL NULL;
 66: SQL NULL;
 67: SQL NULL;
 68: SQL NULL;
 69: SQL NULL;
 70: SQL NULL;
 71: SQL NULL;
 72: SQL NULL;
 73: SQL NULL;
 74: SQL NULL;
 75: SQL NULL;
 76: SQL NULL;
 77: SQL NULL;
 78: SQL NULL;
 79: SQL NULL;
 80: SQL NULL;
 81: SQL NULL;
 82: SQL NULL;
 83: SQL NULL;
 84: SQL NULL;
 85: SQL NULL;
 86: SQL NULL;
 87: len 8; hex 8000000000000001; asc         ;;
 88: SQL NULL;
 89: SQL NULL;
 90: SQL NULL;
 91: len 5; hex 99a6c725d3; asc    % ;;
 92: len 8; hex 8000000000000001; asc         ;;
 93: len 8; hex 8000000000000001; asc         ;;
 94: len 5; hex 99a6c725d3; asc    % ;;
 95: len 8; hex 800000000000272e; asc       '.;;
 96: SQL NULL;

Record lock, heap no 40 PHYSICAL RECORD: n_fields 97; compact format; info bits 32
 0: len 8; hex 8000000000001184; asc         ;;
 1: len 6; hex 00000366f5c5; asc    f  ;;
 2: len 7; hex 33000002cc0f3e; asc 3     >;;
 3: SQL NULL;
 4: len 8; hex 8000000000000012; asc         ;;
 5: len 8; hex 8000000000000097; asc         ;;
 6: len 8; hex 8000000000000001; asc         ;;
 7: len 8; hex 8000000000000001; asc         ;;
 8: len 6; hex 494e464c4f57; asc INFLOW;;
 9: len 7; hex 52454c45415345; asc RELEASE;;
 10: len 8; hex 800000000000000c; asc         ;;
 11: len 3; hex 8fcaea; asc    ;;
 12: len 3; hex 8fcaea; asc    ;;
 13: SQL NULL;
 14: len 9; hex 800000000000025541; asc        UA;;
 15: len 9; hex 800000000000021059; asc         Y;;
 16: len 9; hex 80000000000000444c; asc        DL;;
 17: len 9; hex 80000000000002532a; asc        S*;;
 18: len 9; hex 800000000000020e5c; asc         \;;
 19: len 9; hex 800000000000004432; asc        D2;;
 20: len 9; hex 800000000000000217; asc          ;;
 21: len 9; hex 800000000000000161; asc         a;;
 22: len 9; hex 80000000000000001a; asc          ;;
 23: SQL NULL;
 24: SQL NULL;
 25: SQL NULL;
 26: SQL NULL;
 27: SQL NULL;
 28: SQL NULL;
 29: len 9; hex 800000000000000000; asc          ;;
 30: len 9; hex 800000000000000000; asc          ;;
 31: len 9; hex 800000000000000000; asc          ;;
 32: SQL NULL;
 33: SQL NULL;
 34: SQL NULL;
 35: SQL NULL;
 36: SQL NULL;
 37: len 13; hex 434f4e5f51554f544154494f4e; asc CON_QUOTATION;;
 38: len 8; hex 800000000000272e; asc       '.;;
 39: SQL NULL;
 40: SQL NULL;
 41: len 1; hex 4e; asc N;;
 42: SQL NULL;
 43: SQL NULL;
 44: SQL NULL;
 45: SQL NULL;
 46: SQL NULL;
 47: SQL NULL;
 48: SQL NULL;
 49: SQL NULL;
 50: SQL NULL;
 51: len 3; hex 4e4f54; asc NOT;;
 52: SQL NULL;
 53: SQL NULL;
 54: len 1; hex 4e; asc N;;
 55: len 3; hex 4e4f54; asc NOT;;
 56: SQL NULL;
 57: SQL NULL;
 58: SQL NULL;
 59: SQL NULL;
 60: SQL NULL;
 61: SQL NULL;
 62: SQL NULL;
 63: SQL NULL;
 64: SQL NULL;
 65: SQL NULL;
 66: SQL NULL;
 67: SQL NULL;
 68: SQL NULL;
 69: SQL NULL;
 70: SQL NULL;
 71: SQL NULL;
 72: SQL NULL;
 73: SQL NULL;
 74: SQL NULL;
 75: SQL NULL;
 76: SQL NULL;
 77: SQL NULL;
 78: SQL NULL;
 79: SQL NULL;
 80: SQL NULL;
 81: SQL NULL;
 82: SQL NULL;
 83: SQL NULL;
 84: SQL NULL;
 85: SQL NULL;
 86: SQL NULL;
 87: len 8; hex 8000000000000001; asc         ;;
 88: SQL NULL;
 89: SQL NULL;
 90: SQL NULL;
 91: len 5; hex 99a6c725d3; asc    % ;;
 92: len 8; hex 8000000000000001; asc         ;;
 93: len 8; hex 8000000000000001; asc         ;;
 94: len 5; hex 99a6c725d3; asc    % ;;
 95: len 8; hex 800000000000272e; asc       '.;;
 96: SQL NULL;

*** (2) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 51931 page no 93 n bits 120 index PRIMARY of table `hls_contract`.`hlct_contract_cashflow_h` trx id 57079237 lock_mode X locks rec but not gap waiting
Record lock, heap no 37 PHYSICAL RECORD: n_fields 97; compact format; info bits 0
 0: len 8; hex 8000000000001181; asc         ;;
 1: len 6; hex 00000366f5ad; asc    f  ;;
 2: len 7; hex a2000003e101b2; asc        ;;
 3: SQL NULL;
 4: len 8; hex 8000000000000012; asc         ;;
 5: len 8; hex 8000000000000097; asc         ;;
 6: len 8; hex 8000000000000001; asc         ;;
 7: len 8; hex 8000000000000001; asc         ;;
 8: len 6; hex 494e464c4f57; asc INFLOW;;
 9: len 7; hex 52454c45415345; asc RELEASE;;
 10: len 8; hex 8000000000000009; asc         ;;
 11: len 3; hex 8fca8a; asc    ;;
 12: len 3; hex 8fca8a; asc    ;;
 13: SQL NULL;
 14: len 9; hex 800000000000025541; asc        UA;;
 15: len 9; hex 80000000000002105a; asc         Z;;
 16: len 9; hex 80000000000000444b; asc        DK;;
 17: len 9; hex 800000000000024c4d; asc        LM;;
 18: len 9; hex 800000000000020904; asc          ;;
 19: len 9; hex 800000000000004349; asc        CI;;
 20: len 9; hex 800000000000000858; asc         X;;
 21: len 9; hex 800000000000000756; asc         V;;
 22: len 9; hex 800000000000000102; asc          ;;
 23: SQL NULL;
 24: SQL NULL;
 25: SQL NULL;
 26: SQL NULL;
 27: SQL NULL;
 28: SQL NULL;
 29: len 9; hex 80000000000007005f; asc         _;;
 30: len 9; hex 80000000000006f33b; asc         ;;;
 31: len 9; hex 800000000000000d24; asc         $;;
 32: SQL NULL;
 33: SQL NULL;
 34: SQL NULL;
 35: SQL NULL;
 36: SQL NULL;
 37: len 13; hex 434f4e5f51554f544154494f4e; asc CON_QUOTATION;;
 38: len 8; hex 800000000000272e; asc       '.;;
 39: SQL NULL;
 40: SQL NULL;
 41: len 1; hex 4e; asc N;;
 42: SQL NULL;
 43: SQL NULL;
 44: SQL NULL;
 45: SQL NULL;
 46: SQL NULL;
 47: SQL NULL;
 48: SQL NULL;
 49: SQL NULL;
 50: SQL NULL;
 51: len 3; hex 4e4f54; asc NOT;;
 52: SQL NULL;
 53: SQL NULL;
 54: len 1; hex 4e; asc N;;
 55: len 3; hex 4e4f54; asc NOT;;
 56: SQL NULL;
 57: SQL NULL;
 58: SQL NULL;
 59: SQL NULL;
 60: SQL NULL;
 61: SQL NULL;
 62: SQL NULL;
 63: SQL NULL;
 64: SQL NULL;
 65: SQL NULL;
 66: SQL NULL;
 67: SQL NULL;
 68: SQL NULL;
 69: SQL NULL;
 70: SQL NULL;
 71: SQL NULL;
 72: SQL NULL;
 73: SQL NULL;
 74: SQL NULL;
 75: SQL NULL;
 76: SQL NULL;
 77: SQL NULL;
 78: SQL NULL;
 79: SQL NULL;
 80: SQL NULL;
 81: SQL NULL;
 82: SQL NULL;
 83: SQL NULL;
 84: SQL NULL;
 85: SQL NULL;
 86: SQL NULL;
 87: len 8; hex 8000000000000001; asc         ;;
 88: SQL NULL;
 89: SQL NULL;
 90: SQL NULL;
 91: len 5; hex 99a6c725d3; asc    % ;;
 92: len 8; hex 8000000000000001; asc         ;;
 93: len 8; hex 8000000000000001; asc         ;;
 94: len 5; hex 99a6c725d3; asc    % ;;
 95: len 8; hex 800000000000272e; asc       '.;;
 96: SQL NULL;

*** WE ROLL BACK TRANSACTION (2)
------------
TRANSACTIONS
------------
Trx id counter 62365675
Purge done for trx's n:o < 62365674 undo n:o < 0 state: running but idle
History list length 40
LIST OF TRANSACTIONS FOR EACH SESSION:
---TRANSACTION 421311493227968, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493198784, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493221584, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493222496, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493209728, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493210640, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493202432, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493215200, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493208816, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493234352, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493225232, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493204256, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493200608, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493219760, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493212464, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493214288, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493211552, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493207904, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493203344, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493217024, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493206992, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493205168, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493213376, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493218848, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493201520, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493224320, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493223408, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493206080, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493230704, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493220672, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493217936, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493233440, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493229792, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493227056, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493226144, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493216112, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421311493228880, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
--------
FILE I/O
--------
I/O thread 0 state: waiting for completed aio requests (insert buffer thread)
I/O thread 1 state: waiting for completed aio requests (log thread)
I/O thread 2 state: waiting for completed aio requests (read thread)
I/O thread 3 state: waiting for completed aio requests (read thread)
I/O thread 4 state: waiting for completed aio requests (read thread)
I/O thread 5 state: waiting for completed aio requests (read thread)
I/O thread 6 state: waiting for completed aio requests (write thread)
I/O thread 7 state: waiting for completed aio requests (write thread)
I/O thread 8 state: waiting for completed aio requests (write thread)
I/O thread 9 state: waiting for completed aio requests (write thread)
Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,
 ibuf aio reads:, log i/o's:, sync i/o's:
Pending flushes (fsync) log: 0; buffer pool: 0
15888681 OS file reads, 31661139 OS file writes, 16724675 OS fsyncs
0.00 reads/s, 0 avg bytes/read, 3.22 writes/s, 2.67 fsyncs/s
-------------------------------------
INSERT BUFFER AND ADAPTIVE HASH INDEX
-------------------------------------
Ibuf: size 1, free list len 416, seg size 418, 14245 merges
merged operations:
 insert 22845, delete mark 517109, delete 7623
discarded operations:
 insert 0, delete mark 0, delete 0
Hash table size 34673, node heap has 11 buffer(s)
Hash table size 34673, node heap has 58 buffer(s)
Hash table size 34673, node heap has 30 buffer(s)
Hash table size 34673, node heap has 11 buffer(s)
Hash table size 34673, node heap has 17 buffer(s)
Hash table size 34673, node heap has 38 buffer(s)
Hash table size 34673, node heap has 8 buffer(s)
Hash table size 34673, node heap has 17 buffer(s)
42.83 hash searches/s, 14.72 non-hash searches/s
---
LOG
---
Log sequence number 96113470504
Log flushed up to   96113470504
Pages flushed up to 96113470504
Last checkpoint at  96113470495
0 pending log flushes, 0 pending chkp writes
9554838 log i/o's done, 1.61 log i/o's/second
----------------------
BUFFER POOL AND MEMORY
----------------------
Total large memory allocated 137428992
Dictionary memory allocated 40326350
Buffer pool size   8191
Free buffers       1024
Database pages     6977
Old database pages 2555
Modified db pages  0
Pending reads      0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 3743277, not young 142754292
0.00 youngs/s, 0.00 non-youngs/s
Pages read 15881265, created 296503, written 20026968
0.00 reads/s, 0.00 creates/s, 1.28 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 6977, unzip_LRU len: 0
I/O sum[124]:cur[0], unzip sum[0]:cur[0]
--------------
ROW OPERATIONS
--------------
0 queries inside InnoDB, 0 queries in queue
0 read views open inside InnoDB
Process ID=1, Main thread ID=139827659020032, state: sleeping
Number of rows inserted 32024871, updated 3430881, deleted 622431, read 8143892472
0.00 inserts/s, 0.39 updates/s, 0.06 deletes/s, 68.22 reads/s
----------------------------
END OF INNODB MONITOR OUTPUT
============================
```