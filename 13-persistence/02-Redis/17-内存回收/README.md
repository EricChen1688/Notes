# Redis 内存回收机制

当 Redis 内存超出物理内存限制时 , 内存的数据会开始和磁盘产生频繁的交换 swap , 交换会让 Redis 的性能急剧下降, 对于访问量大的 Redis 来说,这样存取效率基本上等于不可用

内存回收主要分为两类，

- key 过期
- 内存使用达到上限(max_memory) 触发内存淘汰。

## 相关参数

####  最大内存设置

##### 配置文件

```
# maxmemory <bytes>
```

如果不设置 maxmemory 或者设置为 0，64 位系统不限制内存，32 位系统最多使 用 3GB 内存。

##### 动态修改:

```
redis> config set maxmemory 2GB
```

## 过期策略

 [过期策略](01-过期策略.md) 

## 淘汰策略

 [淘汰策略](02-淘汰策略.md) 



#### 问题:

基于一个数据结构做缓存,怎么实现一个 LRU 算法