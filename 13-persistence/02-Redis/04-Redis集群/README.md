# Redis集群

## 什么是 Redis 集群

**Redis 集群是一个分布式（distributed）、容错（fault-tolerant）的 Redis 实现**

- 容错: 容错是指集群中的一个节点挂掉,不会影响其他节点

Redis 集群不存在中心节点(central) 或者代理节点,集群的其中一个主要涉及目标是达到线性可拓展性

Redis 集群为了保证一致性(consistency) 而牺牲了一部分容错性: 系统会保证对网络断线(net split) 和节点失效(node failure)具有优先的抵抗力的前提下,尽可能地保证数据一致性

> 集群将节点失效视为网络断线的其中一种特殊情况。

## 角色

- 



# 为什么需要 Redis 集群

#### 性能

Redis 本身的 QPS 已经很高了，但是如果在一些并发量非常高的情况下，性能还是 会受到影响。这个时候我们希望有更多的 Redis 服务来完成工作。

#### 拓展

第二个是出于存储的考虑。因为 Redis 所有的数据都放在内存中，如果数据量大， 很容易受到硬件的限制。升级硬件收效和成本比太低，所以我们需要有一种横向扩展的 方法。

#### 可用性

第三个是可用性和安全的问题。如果只有一个 Redis 服务，一旦服务宕机，那么所有的客户端都无法访问，会对业务造成很大的影响。另一个，如果硬件发生故障，而单 机的数据无法恢复的话，带来的影响也是灾难性的。

可用性、数据安全、性能都可以通过搭建多个 Reids 服务实现。其中有一个是主节 点(master)，可以有多个从节点(slave)。主从之间通过数据同步，存储完全相同的数 据。如果主节点发生故障，则把某个从节点改成主节点，访问新的主节点。

