# API设计



## 参数

​	如果您的API包含需要对输入进行集合的方法，那么最重要的是将相关参数类型声明为集合接口类型之一。

​	**永远不要**使用具体的实现类，因为这违背了基于接口的集合框架的目的，该框架允许在不考虑实现细节的情况下操作集合。

​	尽量使用顶级接口，如果能用`Collection`就不要用`List`或者`Set

### 注意：

永远不要定义自己的临时`Collection`，并且在输入时需要该类的对象。这样做，您将失去Java集合框架提供的所有好处。

## 返回值

对于返回值，您可以比输入参数灵活得多。返回实现或扩展某个集合接口的任何类型的对象都可以。这可以是其中一个接口，也可以是扩展或实现其中一个接口的特殊用途类型。

返回值类型包含自定义的拓展方法时，使用具体类型或者接口，例如：`SortedMap`实例比普通的`Map`实例更耗时，而且功能也更强大，如果你想让用户拥有这些功能，返回`SortedMap`

### 遗留的api

​	

- 静态方法转换
- 改造类实现标准集合框架内的接口
- 适配器类