# Java中的锁

## 为什么需要锁

**确保多线程并发的数据一致性**

> 保证同一时刻只有一个线程持有该对象的锁并修改对象,从而保证数据安全

## 锁的分类

从乐观与悲观可以分为

- [乐观锁](010-乐观锁与悲观锁.md#乐观锁) 
- [悲观锁 ](010-乐观锁与悲观锁.md#悲观锁) 

从获取资源公平角度来说可以分为

- [公平锁](051-公平锁与非公平锁.md) 
- [非公平锁](051-公平锁与非公平锁.md) 

从资源共享角度可以分为

- [共享锁](060-独占锁与共享锁.md) 
- [独占锁](060-独占锁与共享锁.md) 

从锁的状态太可分为

- 偏向锁
-  [轻量级锁](070-轻量级锁和重量级锁.md) 
- [重量级锁 ](070-轻量级锁和重量级锁.md) 

还有一种更快使用 CPU 资源的

-  [自旋锁](020-自旋锁.md) 

# 共享锁和独占锁

- 共享锁: 允许其他共享式访问,但是独占式访问会被阻塞
- 独占锁:独占式访问资源的时候,同一时刻其他访问均被阻塞

## 共获取和同步式获取

共享式获取与独占式获取最主要的去呗在于统一时刻能否有多个线程同时获取到同步状态

以文件读写为例子:

- 如果一个文件在对文件进行读操作时,那么同一时刻读的操作允许,写的操作被阻塞
- 如果一个文件在对文件的写操作时,其他操作均被阻塞

写操作就是独占式的,而读是共享式的

